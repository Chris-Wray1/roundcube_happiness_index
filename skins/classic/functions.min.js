var a=rcmail.env.happinessmenu_options;$(document).ready(()=>{window.rcmail&&rcmail.addEventListener('init',function(A){rcmail.register_command('plugin.happiness',function(C){rcmail.env.happiness_description=C.desc;rcmail.env.happiness_index=C.value;var _b={};_b.index=C.value;_b.description=C.desc;document.cookie=`happiness=${JSON.stringify(_b)};`},!0);b('happiness','Happiness Index...');var _=document.getElementsByTagName('form');for(var B in _)if(isNaN(B)!=!0&&_[B].getAttribute('name')=='form'){var d=c('happiness','Select an Happiness Index','select');_[B].appendChild(d)}})});function b(_a,D){var _c=document.getElementById('messagetoolbar'),_d=document.createElement('a');_d.setAttribute('href',`#${_a}`);_d.classList.add('button');_d.classList.add(_a);_d.setAttribute('title',D);_d.setAttribute('id',`${_a}menulink`);_d.setAttribute('unselectable','on');_d.setAttribute('onmousedown','return false');_d.setAttribute('onclick',`rcmail_ui.show_popup('${_a}menu', true);return false`);_d.innerHTML='&nbsp;';_c.appendChild(_d)}function c(_A,_B,_C){var _D=document.createElement('div'),f=document.createElement('li'),g=document.createElement('label');_D.setAttribute('id',`${_A}menu`);_D.classList.add('popupmenu');var e=document.createElement('ul');e.setAttribute('id',`text${_A}menu`);g.classList.add('comment');g.textContent=g.innerHTML=_B;f.appendChild(g);var h=document.createElement('ul');h.setAttribute('id',`${_A}list`);for(var i in a){var j=document.createElement('li'),k=document.createElement('a');k.setAttribute('href','#'+_A+'-'+a[i]);k.classList.add(_C+_A);k.classList.add('active');k.setAttribute('unselectable','on');k.setAttribute('tabindex',0);k.setAttribute('onclick','return rcmail.command(\'plugin.happiness\', {desc: \''+i+'\', value: \''+a[i]+'\'}, this, event ) ');k.textContent=k.innerHTML=i;j.appendChild(k);h.appendChild(j)}e.appendChild(f);e.appendChild(h);_D.appendChild(e);return _D}
