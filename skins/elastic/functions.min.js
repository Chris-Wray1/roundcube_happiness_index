var a=rcmail.env.happinessmenu_options;$(document).ready(()=>{window.rcmail&&rcmail.addEventListener('init',function(A){rcmail.register_command('plugin.happiness',function(B){rcmail.env.happiness_description=B.desc;rcmail.env.happiness_index=B.value;var C={};C.index=B.value;C.description=B.desc;document.cookie=`happiness=${JSON.stringify(C)};`},!0);b('happiness','Happiness Index...','Happiness');var _=document.getElementById('layout');_.appendChild(c('happiness','Select a Happiness Index','select'))})});function b(_a,_b,_c){var d=document.getElementById('toolbar-menu'),e=document.createElement('li'),g=document.createElement('span');e.setAttribute('role','menuitem');var f=document.createElement('a');f.setAttribute('href',`#${_a}`);f.classList.add(_a);f.classList.add('active');f.setAttribute('label',_a);f.setAttribute('title',_b);f.setAttribute('id',`${_a}menulink`);f.setAttribute('unselectable','on');f.setAttribute('tabindex','3');f.setAttribute('data-popup',`${_a}menu`);f.setAttribute('aria-haspopup',!0);f.setAttribute('aria-expanded',!1);f.setAttribute('aria-owns',`${_a}menu`);f.setAttribute('data-original-title',_b);f.setAttribute('onmousedown','return false');g.classList.add('inner');g.textContent=g.innerHTML=_c;f.appendChild(g);e.appendChild(f);d.appendChild(e)}function c(D,_B,_C){var _d=document.createElement('div'),F=document.createElement('ul'),h=document.createElement('label');_d.setAttribute('id',`${D}menu`);_d.classList.add('popupmenu');_d.setAttribute('aria-hidden','true');var E=document.createElement('h3');E.setAttribute('id',`aria-label-${D}menu`);E.classList.add('voice');E.textContent=`Canned ${D} menu`;F.classList.add('menu');F.classList.add('listing');F.setAttribute('role','menu');F.setAttribute('aria-labelledby',`aria-label-${D}menu`);var G=document.createElement('li');G.setAttribute('role','separator');G.classList.add('separator');h.textContent=h.innerHTML=_B;G.appendChild(h);var i=document.createElement('ul');i.setAttribute('id',`${D}list`);i.classList.add('rounded-0');for(var j in a){var k=document.createElement('li'),l=document.createElement('a');l.setAttribute('href','#'+D+'-'+a[j]);l.classList.add(_C+D);l.classList.add('active');l.setAttribute('unselectable','on');l.setAttribute('tabindex',0);l.setAttribute('onclick','return rcmail.command(\'plugin.happiness\', {desc: \''+j+'\', value: \''+a[j]+'\'}, this, event ) ');l.textContent=l.innerHTML=j;k.appendChild(l);i.appendChild(k)}_d.appendChild(E);F.appendChild(G);F.appendChild(i);_d.appendChild(F);return _d}
